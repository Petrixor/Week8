---
title: "Week 8"
author: "Yuqi Gao"
date: "2022-11-18"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=FALSE}
library(tidyverse)
library(lubridate)
library(nycflights13)
library(dplyr)
```

```{r}
flights
```

```{r}
flightsEdited <- flights %>% mutate(date=make_date(year, month, day))
```

```{r}
flightsEdited %>% select(year, month, day, date) %>% head
```

```{r}
daily <- flightsEdited %>% group_by(date) %>% summarise(n=n())
head(daily)
```

```{r}
ggplot(daily, aes(date, n))+geom_line()
```

```{r}
updatedFlightsEdited <- flightsEdited %>% mutate(weekday=wday(date, label = TRUE)) %>% mutate(month=month(date, label = TRUE))
head(updatedFlightsEdited)
```

```{r}
flightsEditedJan <- flightsEdited %>% filter(month == 1) %>% group_by(date) %>% summarise(n=n())
```

```{r}
ggplot(flightsEditedJan, aes(date, n))+geom_line()
```

```{r}
flightsEdited %>% filter(origin=='JFK'|dest=='JFK'|origin=='LGA'|dest=='LGA') %>% group_by(date, month) %>% summarise(n=n()) %>% arrange(desc(n))
```

```{r}
data("mtcars")
str(mtcars)
```

```{r}
mcor <- cor(mtcars)
round(mcor, digits=2)
```

```{r}
#install.packages("corrplot")
library(corrplot)
corrplot(mcor)
```

```{r}
#install.packages("GGally")
library(GGally)
ggcorr(mtcars)
```

```{r}
cor.test(mtcars$cyl, mtcars$disp)
```

```{r}
nba<-read.csv("http://datasets.flowingdata.com/ppg2008.csv", sep=",")
head(nba)
```

```{r}
row.names(nba) <- nba$Name
head(nba)
```

```{r}
nba<-nba[,2:20]
```

```{r}
nbaMatrix <- data.matrix(nba)
heatmap(nbaMatrix, Rowv=NA, Colv=NA, col=heat.colors(256), scale="column", margins=c(5,10))
```

```{r, include=FALSE}
#install.packages("igraph")
library(igraph)
```

```{r}
gDirected<-graph(c(1,2, 2,3, 2, 4, 1,4, 5,5, 3,6))
gDirected
```

```{r}
plot(gDirected)
```

```{r}
gUndirected<-graph(c(1,2, 2,3, 2, 4, 1,4, 5,5, 3,6), directed=FALSE)
gUndirected
```

```{r}
plot(gUndirected)
```

```{r}
nodes<-read.csv("Dataset1-Media-Example-NODES.csv", header=T, as.is=T)
head(nodes)
```

